<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <title>测试报告</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <style type="text/css" media="screen">
  body {
    font-family: 'Segoe UI', Helvetica, Arial, sans-serif;
    font-size: 14px;
  }

  pre {
    word-wrap: break-word;
    word-break: break-all;
    overflow: auto;
    white-space: pre-wrap
  }

  h1 {
    font-size: 16pt;
    color: gray
  }
  
  .heading {
    margin-top: 0;
    margin-bottom: 5ex
  }

  .heading .attribute {
    margin-left: 1em;
    margin-top: 1ex;
    margin-bottom: 0
  }

  .heading .description {
    margin-top: 4ex;
    margin-bottom: 6ex
  }

  a.popup_link:hover {
    color: red
  }

  .popup_window {
    display: block;
    position: relative;
    left: 0;
    top: 0;
    padding: 10px;
    background-color: #E6E6D6;
    text-align: left;
    font-size: 13px
  }


  #result_table {
    width: 50%;
    border-collapse: collapse;
    border: 1px solid #EEE
  }

  #result_table td {
    border: 1px solid #EEE;
    padding: 2px;
    min-width: 100px;
    width: 100%
  }

  .PASS {
    background-color: #D8E4BC
  }

  .FAIL {
    background-color: #E6B8B7
  }
  
  .ERROR {
    background-color: #E6B8B7
  }
  
  .NOTSUPPORT {
    background-color: #FCD5B4
  }

  .hiddenRow {
    display: none
  }

  .CIStep {
    margin-left: 1em
  }

  #popup {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    text-align: center;
    display: none
  }

  #popup .bg {
    background-color: rgba(0, 0, 0, .5);
    width: 100%;
    height: 100%
  }

  #popup img {
    max-width: 100%;
    max-height: 100%;
    margin: auto;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
  }

  img.pic {
    width: 500px;
    cursor: pointer;
  }
</style>

<script language="javascript" type="text/javascript">
	function showCIDetail(div_id) {
	  var details_div = document.getElementById(div_id);
	  var className = details_div.className;
	  if (className != "") {
		details_div.className = "";
	  } else {
		details_div.className = "hiddenRow";
	  }
	}
</script>
</head>

<body>


<div class='heading'>
  <h1>构建信息</h1>
  <p class='attribute'><strong><span>触发人员：</span></strong> {{trigger}}</p>
  <p class='attribute'><strong><span>触发类型：</span></strong> {{action_type}}</p>
  <p class='attribute'><strong><span>构建目标：</span></strong> {{build_target}}</p>
  <p class='attribute'><strong><span>测试范围：</span></strong> {{test_type}}</p>
</div>

<h1>步骤详情</h1>
<table id='result_table'>

<tr id='codeCompile' class='{{code_compile_display}}'>
  <td class='{{code_compile_result}}'  colspan='1'>
    <div class='CIStep'><strong>代码编译</strong></div>
  </td>
  <td class='{{code_compile_result}}' align='center'>
    <a href="javascript:showCIDetail('codeCompileDetail')">{{code_compile_result}}</a>
  </td>
</tr>
<tr id='codeCompileDetail' class="hiddenRow">
  <td colspan='2'>
    <div class="popup_window">
		{{code_compile_detail}}
    </div>
  </td>
</tr>

<tr id='codeScan' class='{{code_scan_display}}'>
  <td class='{{code_scan_result}}'  colspan='1'>
    <div class='CIStep'><strong>静态扫描</strong></div>
  </td>
  <td class='{{code_scan_result}}' align='center'>
    <a class="popup_link" onfocus='this.blur();' href="javascript:showCIDetail('codeScanDetail')">{{code_scan_result}}</a>
  </td>
</tr>
<tr id='codeScanDetail' class="{{code_scan_display}}">
  <td colspan='2'>
    <div class="popup_window">
		{{code_scan_detail}}
    </div>
  </td>
</tr>

<tr id='unitTest' class='{{unit_test_display}}'>
  <td class='{{unit_test_result}}'  colspan='1'>
    <div class='CIStep'><strong>单元测试</strong></div>
  </td>
  <td class='{{unit_test_result}}' align='center'>
    <a class="popup_link" onfocus='this.blur();' href="javascript:showCIDetail('unitTestDetail')">{{unit_test_result}}</a>
  </td>
</tr>
<tr id='unitTestDetail' class="{{unit_test_display}}">
  <td colspan='2'>
    <div class="popup_window">
		{{unit_test_detail}}
    </div>
  </td>
</tr>

<tr id='deployment' class='{{auto_deploy_display}}'>
  <td class='{{auto_deploy_result}}'  colspan='1'>
    <div class='CIStep'><strong>环境部署</strong></div>
  </td>
  <td class='{{auto_deploy_result}}' align='center'>
    <a class="popup_link" onfocus='this.blur();' href="javascript:showCIDetail('deploymentDetail')">{{auto_deploy_result}}</a>
  </td>
</tr>
<tr id='deploymentDetail' class="{{auto_deploy_display}}">
  <td colspan='2'>
    <div class="popup_window">
		{{auto_deploy_detail}}
    </div>
  </td>
</tr>

<tr id='functionTest' class='{{auto_test_display}}'>
  <td class='{{auto_test_result}}'  colspan='1'>
    <div class='CIStep'><strong>功能基线测试</strong></div>
  </td>
  <td class='{{auto_test_result}}' align='center'>
    <a class="popup_link" onfocus='this.blur();' href="javascript:showCIDetail('functionTestDetail')">{{auto_test_result}}</a>
  </td>
</tr>
<tr id='functionTestDetail' class="{{auto_test_display}}">
  <td colspan='2'>
    <div class="popup_window">
		{{auto_test_detail}}
	</div>
  </td>
</tr>

<tr id='performanceTest' class='{{load_Test_display}}'>
  <td class='{{load_Test_result}}'  colspan='1'>
    <div class='CIStep'><strong>性能基线测试</strong></div>
  </td>
  <td class='{{load_Test_result}}' align='center'>
    <a class="popup_link" onfocus='this.blur();' href="javascript:showCIDetail('performanceTestDetail')">{{load_Test_result}}</a>
  </td>
</tr>
<tr id='performanceTestDetail' class="{{load_Test_display}}">
  <td colspan='2'>
    <div class="popup_window">
		{{load_Test_detail}}
	</div>
  </td>
</tr>

<tr id='stabilityTest' class='{{stability_test_display}}'>
  <td class='{{stability_test_result}}'  colspan='1'>
    <div class='CIStep'><strong>稳定性基线测试</strong></div>
  </td>
  <td class='{{stability_test_result}}' align='center'>
    <a class="popup_link" onfocus='this.blur();' href="javascript:showCIDetail('stabilityTestDetail')">{{stability_test_result}}</a>
  </td>
</tr>
<tr id='stabilityTestDetail' class="{{stability_test_display}}">
  <td colspan='2'>
    <div class="popup_window">
		{{stability_test_display}}
    </div>
  </td>
</tr>

</table>

</body>

</html>
